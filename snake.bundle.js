!function(t){var i={};function e(c){if(i[c])return i[c].exports;var s=i[c]={i:c,l:!1,exports:{}};return t[c].call(s.exports,s,s.exports,e),s.l=!0,s.exports}e.m=t,e.c=i,e.d=function(t,i,c){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:c})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(e.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)e.d(c,s,function(i){return t[i]}.bind(null,s));return c},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";e.r(i);var c=function(t,i){return t=Math.ceil(t),i=Math.floor(i),Math.floor(Math.random()*(i-t+1))+t},s=function(){function t(t){this.ctx=t}return t.prototype.printChar=function(t,i,e){switch(e){case"c":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t,i+50-10,50,10),void this.ctx.fillRect(t,i,50,10);case"g":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t+50-10,i+50-10,10,-20),this.ctx.fillRect(t,i+50-10,50,10),void this.ctx.fillRect(t,i,50,10);case"l":return this.ctx.fillRect(t,i,10,50),void this.ctx.fillRect(t,i+50-10,50,10);case"i":return void this.ctx.fillRect(t+20,i,10,50);case"a":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t+50-10,i,10,50),this.ctx.fillRect(t,i,50,10),void this.ctx.fillRect(t,i+20,50,10);case"h":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t+50-10,i,10,50),void this.ctx.fillRect(t,i+20,50,10);case"m":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t+50-10,i,10,50),this.ctx.fillRect(t,i+10,50,10),this.ctx.fillRect(t+20,i+20,10,10),this.ctx.fillStyle="black",this.ctx.fillRect(t+20,i+20,10,-20),void(this.ctx.fillStyle="white");case"e":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t,i+50-10,50,10),this.ctx.fillRect(t,i,50,10),void this.ctx.fillRect(t,i+20,50,10);case"o":case"0":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t,i+50-10,50,10),this.ctx.fillRect(t+50-10,i+50-10,10,-40),void this.ctx.fillRect(t,i,50,10);case"v":return this.ctx.fillRect(t,i,10,30),this.ctx.fillRect(t+50-10,i,10,30),this.ctx.fillRect(t+10,i+30,10,10),this.ctx.fillRect(t+30,i+30,10,10),void this.ctx.fillRect(t+20,i+50-10,10,10);case"f":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t,i,50,10),void this.ctx.fillRect(t,i+20,50,10);case"p":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t,i,50,10),this.ctx.fillRect(t+50-10,i,10,30),void this.ctx.fillRect(t,i+20,50,10);case"r":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t,i,50,10),this.ctx.fillRect(t+50-10,i,10,30),this.ctx.fillRect(t,i+20,50,10),this.ctx.fillRect(t+30,i+30,10,10),void this.ctx.fillRect(t+50-10,i+50-10,10,10);case"y":return this.ctx.fillRect(t,i,10,20),this.ctx.fillRect(t+50-10,i,10,20),this.ctx.fillRect(t+10,i+20,10,10),this.ctx.fillRect(t+30,i+20,10,10),void this.ctx.fillRect(t+20,i+30,10,20);case"u":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t,i+50-10,50,10),void this.ctx.fillRect(t+50-10,i+50-10,10,-40);case"s":case"5":return this.ctx.fillRect(t,i,10,20),this.ctx.fillRect(t+50-10,i+20,10,20),this.ctx.fillRect(t,i+50-10,50,10),this.ctx.fillRect(t,i,50,10),void this.ctx.fillRect(t,i+20,50,10);case"2":return this.ctx.fillRect(t,i,10,10),this.ctx.fillRect(t+50-10,i,10,20),this.ctx.fillRect(t,i+20,10,20),this.ctx.fillRect(t,i+50-10,50,10),this.ctx.fillRect(t,i,50,10),void this.ctx.fillRect(t,i+20,50,10);case"3":return this.ctx.fillRect(t+50-10,i,10,50),this.ctx.fillRect(t,i+50-10,50,10),this.ctx.fillRect(t,i,50,10),void this.ctx.fillRect(t,i+20,50,10);case"4":return this.ctx.fillRect(t,i,10,30),this.ctx.fillRect(t,i+30,50,10),void this.ctx.fillRect(t+50-10,i+50,10,-50);case"6":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t,i+50-10,50,10),this.ctx.fillRect(t,i,50,10),this.ctx.fillRect(t,i+20,50,10),void this.ctx.fillRect(t+50-10,i+50-10,10,-20);case"7":return this.ctx.fillRect(t,i,50,10),void this.ctx.fillRect(t+50-10,i+50,10,-50);case"8":case"b":return this.ctx.fillRect(t+50-10,i,10,50),this.ctx.fillRect(t,i+50-10,50,10),this.ctx.fillRect(t,i,50,10),this.ctx.fillRect(t,i+20,50,10),void this.ctx.fillRect(t,i,10,50);case"9":return this.ctx.fillRect(t+50-10,i,10,50),this.ctx.fillRect(t,i+50-10,50,10),this.ctx.fillRect(t,i,50,10),this.ctx.fillRect(t,i+20,50,10),void this.ctx.fillRect(t,i,10,20);case"1":return void this.ctx.fillRect(t+50-10,i,10,50);case"d":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t,i+50-10,50,10),this.ctx.fillRect(t+50-10,i+50-10,10,-40),this.ctx.fillRect(t,i,50,10),this.ctx.fillStyle="black",this.ctx.fillRect(t+50-10,i,10,10),this.ctx.fillRect(t+50-10,i+50-10,10,10),void(this.ctx.fillStyle="white");case"t":return this.ctx.fillRect(t,i,50,10),void this.ctx.fillRect(t+20,i,10,50);case"q":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t,i+50-10,50,10),this.ctx.fillRect(t+50-10,i+50-10,10,-40),this.ctx.fillRect(t,i,50,10),void this.ctx.fillRect(t+20,i+50-10,10,-10);case"w":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t+50-10,i,10,50),this.ctx.fillRect(t+20,i,10,50),void this.ctx.fillRect(t,i+50-10,50,10);case"j":return this.ctx.fillRect(t+50-10,i,10,50),this.ctx.fillRect(t,i+50-10,50,10),void this.ctx.fillRect(t,i+50-10,10,-10);case"k":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t+50-10,i+50-10,10,10),this.ctx.fillRect(t+30,i+30,10,10),this.ctx.fillRect(t+20,i+20,10,10),this.ctx.fillRect(t+50-10,i,10,10),this.ctx.fillRect(t+30,i+10,10,10),void this.ctx.fillRect(t+10,i+20,10,10);case"z":return this.ctx.fillRect(t,i,50,10),this.ctx.fillRect(t,i+50-10,50,10),this.ctx.fillRect(t+20,i+20,10,10),this.ctx.fillRect(t+10,i+30,10,10),void this.ctx.fillRect(t+30,i+10,10,10);case"x":return this.ctx.fillRect(t+20,i+20,10,10),this.ctx.fillRect(t+10,i+30,10,10),this.ctx.fillRect(t+30,i+10,10,10),this.ctx.fillRect(t+50-10,i,10,10),this.ctx.fillRect(t,i+50-10,10,10),this.ctx.fillRect(t,i,10,10),this.ctx.fillRect(t+10,i+10,10,10),this.ctx.fillRect(t+50-10,i+50-10,10,10),void this.ctx.fillRect(t+30,i+30,10,10);case"n":return this.ctx.fillRect(t,i,10,50),this.ctx.fillRect(t+50-10,i,10,50),this.ctx.fillRect(t+10,i+10,10,10),this.ctx.fillRect(t+20,i+20,10,10),void this.ctx.fillRect(t+30,i+30,10,10);case" ":return}return this},t.prototype.print=function(t,i,e){for(var c=0,s=0,l=0,h=t;l<h.length;l++){for(var r=0,n=h[l];r<n.length;r++){var a=n[r];this.printChar(i+8*s*10,e+8*c*10,a),s++}c++,s=0}return this},t}(),l=function(){for(var t=0,i=0,e=arguments.length;i<e;i++)t+=arguments[i].length;var c=Array(t),s=0;for(i=0;i<e;i++)for(var l=arguments[i],h=0,r=l.length;h<r;h++,s++)c[s]=l[h];return c},h=function(){function t(t){var i=this;this.x=0,this.y=0,this.score=0,this.target={x:0,y:0},this.vx=0,this.vy=0,this.trail=[],this.name="",this.clock=50,this.gameStatus="GAME_INIT",this.options=t;var e=document.createElement("canvas");e.width=1600,e.height=1e3,t.container.appendChild(e),this.canvas=e;var c=e.getContext("2d");this.ctx=c;var l=new s(c);this.typography=l,document.addEventListener("keydown",(function(t){switch(t.code){case"Space":case"Enter":"GAME_OVER"===i.gameStatus&&i.startGame()}})),document.addEventListener("keydown",(function(t){if("GAME_IN_PROGRESS"===i.gameStatus&&!i.dirty)switch(t.code){case"KeyD":case"ArrowRight":if(-1===i.vx)return;i.vx=1,i.vy=0,i.dirty=!0;break;case"KeyA":case"ArrowLeft":if(1===i.vx)return;i.vx=-1,i.vy=0,i.dirty=!0;break;case"KeyW":case"ArrowUp":if(1===i.vy)return;i.vx=0,i.vy=-1,i.dirty=!0;break;case"KeyS":case"ArrowDown":if(-1===i.vy)return;i.vx=0,i.vy=1,i.dirty=!0}})),document.addEventListener("keydown",(function(t){"GAME_INIT"===i.gameStatus&&("qwertyuiopasdfghjklzxcvbnm".indexOf(t.key)>-1&&i.name.length<=3&&(i.name+=t.key,i.welcome()),"Backspace"===t.code&&(i.name=i.name.slice(0,-1),i.welcome()),"Enter"===t.code&&""!==i.name&&i.startGame())})),this.welcome()}return t.prototype.setRandomTarget=function(){this.target.x=10*c(10,this.canvas.width/10)-10,this.target.y=10*c(10,this.canvas.height/10)-10},t.prototype.gameOver=function(){var t=this;if(this.gameStatus="GAME_OVER",clearInterval(this.interval),this.score>Math.min.apply(Math,this.options.leaderBoard.map((function(t){return t.score})))||!this.options.leaderBoard||this.options.leaderBoard.length<10){var i=this.options.leaderBoard.find((function(i){return i.name===t.name}));i?i.score=this.score>i.score?this.score:i.score:this.options.leaderBoard.push({name:this.name,score:this.score}),this.options.leaderBoard.sort((function(t,i){return t.score<i.score?1:t.score===i.score?[t.name,i.name].sort()[0]===t.name?-1:1:-1})),this.options.leaderBoard.length>10&&this.options.leaderBoard.splice(-1,1),this.options.onLeaderBoardUpdated&&"function"==typeof this.options.onLeaderBoardUpdated&&this.options.onLeaderBoardUpdated(this.options.leaderBoard)}var e=function(t){for(var i="",e=0;e<t;e++)i+=" ";return i};this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="white",this.typography.print([" game"," over"],20,10),this.typography.print([" your","score"],20,200),this.typography.print([""+this.score],20,450),this.typography.print(["press","space"],20,800);for(var c=0,s=0,l=this.options.leaderBoard;s<l.length;s++){var h=l[s];this.typography.print([e(4-h.name.length)+h.name+" "+h.score],500,10+80*c),c++}return this},t.prototype.renderGame=function(){if(this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="red",this.ctx.fillRect(this.target.x,this.target.y,10,10),this.ctx.fillStyle="green",this.ctx.fillRect(this.x,this.y,10,10),this.trail.length>0)for(var t=0,i=this.trail;t<i.length;t++){var e=i[t],c=e.x,s=e.y;this.ctx.fillStyle="green",this.ctx.fillRect(c,s,10,10)}},t.prototype.startGame=function(){var t=this;this.gameStatus="GAME_IN_PROGRESS",this.trail=[{x:10,y:0},{x:0,y:0}],this.x=20,this.y=0,this.vx=1,this.vy=0,this.setRandomTarget(),this.clock=50,this.interval=setInterval((function(){return t.tick()}),this.clock)},t.prototype.welcome=function(){this.gameStatus="GAME_INIT",this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="white",this.typography.print(["input"," name"],20,10),this.typography.print([this.name],20,250),this.typography.print([" then","press","enter"],20,400)},t.prototype.tick=function(){var t=this;if(0!==this.vx||0!==this.vy){this.dirty=!1;for(var i=0,e=this.trail;i<e.length;i++){var c=e[i];if(c.x===this.x&&c.y===this.y)return this.gameOver()}this.trail=l([{x:this.x,y:this.y}],this.trail),this.target.x!==this.x||this.target.y!==this.y?this.trail.splice(-1,1):(this.clock-=5,this.clock<30&&(this.clock=30),this.score+=30===this.clock?10:5,clearInterval(this.interval),this.interval=setInterval((function(){return t.tick()}),this.clock),this.setRandomTarget()),1===this.vx&&0===this.vy&&(this.x>this.canvas.width-20?this.x=0:this.x+=10),-1===this.vx&&0===this.vy&&(this.x-10>=0?this.x-=10:this.x=this.canvas.width-10),0===this.vx&&-1===this.vy&&(this.y-10>=0?this.y-=10:this.y=this.canvas.height-10),0===this.vx&&1===this.vy&&(this.y>this.canvas.height-20?this.y=0:this.y+=10),this.renderGame()}},t}();void 0!==typeof window&&(window.Snake=function(t){return new h(t)})}]);