!function(t){var e={};function i(c){if(e[c])return e[c].exports;var n=e[c]={i:c,l:!1,exports:{}};return t[c].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,c){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(c,n,function(e){return t[e]}.bind(null,n));return c},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var c=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},n=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var c=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],l=0,r=s.length;l<r;l++,n++)c[n]=s[l];return c},s=function(){function t(t){var e=this;this.x=0,this.y=0,this.score=0,this.target={x:0,y:0},this.vx=0,this.vy=0,this.trail=[],this.clock=50,this.engine=t,document.addEventListener("keydown",(function(t){if("GAME_IN_PROGRESS"===e.engine.gameStatus&&!e.dirty)switch(t.code){case"KeyD":case"ArrowRight":if(-1===e.vx)return;e.vx=1,e.vy=0,e.dirty=!0;break;case"KeyA":case"ArrowLeft":if(1===e.vx)return;e.vx=-1,e.vy=0,e.dirty=!0;break;case"KeyW":case"ArrowUp":if(1===e.vy)return;e.vx=0,e.vy=-1,e.dirty=!0;break;case"KeyS":case"ArrowDown":if(-1===e.vy)return;e.vx=0,e.vy=1,e.dirty=!0}}))}return t.prototype.setRandomTarget=function(){this.target.x=5*c(5,this.engine.canvas.width/5)-5,this.target.y=5*c(5,this.engine.canvas.height/5)-5},t.prototype.render=function(){if(this.engine.ctx.fillStyle="black",this.engine.ctx.fillRect(0,0,this.engine.canvas.width,this.engine.canvas.height),this.engine.ctx.fillStyle="red",this.engine.ctx.fillRect(this.target.x,this.target.y,5,5),this.engine.ctx.fillStyle="green",this.engine.ctx.fillRect(this.x,this.y,5,5),this.trail.length>0)for(var t=0,e=this.trail;t<e.length;t++){var i=e[t],c=i.x,n=i.y;this.engine.ctx.fillStyle="green",this.engine.ctx.fillRect(c,n,5,5)}},t.prototype.startGame=function(){var t=this;this.engine.gameStatus="GAME_IN_PROGRESS",this.trail=[{x:5,y:0},{x:0,y:0}],this.x=10,this.y=0,this.vx=1,this.vy=0,this.score=0,this.setRandomTarget(),this.clock=50,this.interval=setInterval((function(){return t.tick()}),this.clock)},t.prototype.tick=function(){var t=this;if(0!==this.vx||0!==this.vy){this.dirty=!1;for(var e=0,i=this.trail;e<i.length;e++){var c=i[e];if(c.x===this.x&&c.y===this.y)return clearInterval(this.interval),this.engine.gameOverScreen.render()}this.trail=n([{x:this.x,y:this.y}],this.trail),this.target.x!==this.x||this.target.y!==this.y?this.trail.splice(-1,1):(this.clock-=5,this.clock<30&&(this.clock=30),this.score+=30===this.clock?10:5,clearInterval(this.interval),this.interval=setInterval((function(){return t.tick()}),this.clock),this.setRandomTarget()),1===this.vx&&0===this.vy&&(this.x>this.engine.canvas.width-10?this.x=0:this.x+=5),-1===this.vx&&0===this.vy&&(this.x-5>=0?this.x-=5:this.x=this.engine.canvas.width-5),0===this.vx&&-1===this.vy&&(this.y-5>=0?this.y-=5:this.y=this.engine.canvas.height-5),0===this.vx&&1===this.vy&&(this.y>this.engine.canvas.height-10?this.y=0:this.y+=5),this.render()}},t}(),l=function(){function t(t){var e=this;this.engine=t,document.addEventListener("keydown",(function(t){switch(t.code){case"Space":case"Enter":"GAME_OVER"===e.engine.gameStatus&&e.engine.snakeScreen.startGame()}}))}return t.prototype.render=function(){var t=this;if(this.engine.gameStatus="GAME_OVER",this.engine.snakeScreen.score>Math.min.apply(Math,this.engine.options.leaderBoard.map((function(t){return t.score})))||!this.engine.options.leaderBoard||this.engine.options.leaderBoard.length<10){var e=this.engine.options.leaderBoard.find((function(e){return e.name===t.engine.name}));e?e.score=this.engine.snakeScreen.score>e.score?this.engine.snakeScreen.score:e.score:this.engine.options.leaderBoard.push({name:this.engine.name,score:this.engine.snakeScreen.score}),this.engine.options.leaderBoard.sort((function(t,e){return t.score<e.score?1:t.score===e.score?[t.name,e.name].sort()[0]===t.name?-1:1:-1})),this.engine.options.leaderBoard.length>10&&this.engine.options.leaderBoard.splice(-1,1),this.engine.options.onLeaderBoardUpdated&&"function"==typeof this.engine.options.onLeaderBoardUpdated&&this.engine.options.onLeaderBoardUpdated(this.engine.options.leaderBoard)}var i=function(t){for(var e="",i=0;i<t;i++)e+=" ";return e};this.engine.ctx.fillStyle="black",this.engine.ctx.fillRect(0,0,this.engine.canvas.width,this.engine.canvas.height),this.engine.ctx.fillStyle="white",this.engine.typography.print([" game"," over"],10,5),this.engine.typography.print([" your","score"],10,100),this.engine.typography.print([""+this.engine.snakeScreen.score],10,225),this.engine.typography.print(["press","space"],10,400);for(var c=0,n=0,s=this.engine.options.leaderBoard;n<s.length;n++){var l=s[n];this.engine.typography.print([i(4-l.name.length)+l.name+" "+l.score],250,40*c+5),c++}return this},t}(),r=function(){function t(t){this.ctx=t}return t.prototype.printChar=function(t,e,i){switch(i){case"c":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t,e+25-5,25,5),void this.ctx.fillRect(t,e,25,5);case"g":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t+25-5,e+25-5,5,-10),this.ctx.fillRect(t,e+25-5,25,5),void this.ctx.fillRect(t,e,25,5);case"l":return this.ctx.fillRect(t,e,5,25),void this.ctx.fillRect(t,e+25-5,25,5);case"i":return void this.ctx.fillRect(t+10,e,5,25);case"a":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t+25-5,e,5,25),this.ctx.fillRect(t,e,25,5),void this.ctx.fillRect(t,e+10,25,5);case"h":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t+25-5,e,5,25),void this.ctx.fillRect(t,e+10,25,5);case"m":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t+25-5,e,5,25),this.ctx.fillRect(t,e+5,25,5),this.ctx.fillRect(t+10,e+10,5,5),this.ctx.fillStyle="black",this.ctx.fillRect(t+10,e+10,5,-10),void(this.ctx.fillStyle="white");case"e":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t,e+25-5,25,5),this.ctx.fillRect(t,e,25,5),void this.ctx.fillRect(t,e+10,25,5);case"o":case"0":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t,e+25-5,25,5),this.ctx.fillRect(t+25-5,e+25-5,5,-20),void this.ctx.fillRect(t,e,25,5);case"v":return this.ctx.fillRect(t,e,5,15),this.ctx.fillRect(t+25-5,e,5,15),this.ctx.fillRect(t+5,e+15,5,5),this.ctx.fillRect(t+15,e+15,5,5),void this.ctx.fillRect(t+10,e+25-5,5,5);case"f":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t,e,25,5),void this.ctx.fillRect(t,e+10,25,5);case"p":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t,e,25,5),this.ctx.fillRect(t+25-5,e,5,15),void this.ctx.fillRect(t,e+10,25,5);case"r":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t,e,25,5),this.ctx.fillRect(t+25-5,e,5,15),this.ctx.fillRect(t,e+10,25,5),this.ctx.fillRect(t+15,e+15,5,5),void this.ctx.fillRect(t+25-5,e+25-5,5,5);case"y":return this.ctx.fillRect(t,e,5,10),this.ctx.fillRect(t+25-5,e,5,10),this.ctx.fillRect(t+5,e+10,5,5),this.ctx.fillRect(t+15,e+10,5,5),void this.ctx.fillRect(t+10,e+15,5,10);case"u":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t,e+25-5,25,5),void this.ctx.fillRect(t+25-5,e+25-5,5,-20);case"s":case"5":return this.ctx.fillRect(t,e,5,10),this.ctx.fillRect(t+25-5,e+10,5,10),this.ctx.fillRect(t,e+25-5,25,5),this.ctx.fillRect(t,e,25,5),void this.ctx.fillRect(t,e+10,25,5);case"2":return this.ctx.fillRect(t,e,5,5),this.ctx.fillRect(t+25-5,e,5,10),this.ctx.fillRect(t,e+10,5,10),this.ctx.fillRect(t,e+25-5,25,5),this.ctx.fillRect(t,e,25,5),void this.ctx.fillRect(t,e+10,25,5);case"3":return this.ctx.fillRect(t+25-5,e,5,25),this.ctx.fillRect(t,e+25-5,25,5),this.ctx.fillRect(t,e,25,5),void this.ctx.fillRect(t,e+10,25,5);case"4":return this.ctx.fillRect(t,e,5,15),this.ctx.fillRect(t,e+15,25,5),void this.ctx.fillRect(t+25-5,e+25,5,-25);case"6":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t,e+25-5,25,5),this.ctx.fillRect(t,e,25,5),this.ctx.fillRect(t,e+10,25,5),void this.ctx.fillRect(t+25-5,e+25-5,5,-10);case"7":return this.ctx.fillRect(t,e,25,5),void this.ctx.fillRect(t+25-5,e+25,5,-25);case"8":case"b":return this.ctx.fillRect(t+25-5,e,5,25),this.ctx.fillRect(t,e+25-5,25,5),this.ctx.fillRect(t,e,25,5),this.ctx.fillRect(t,e+10,25,5),void this.ctx.fillRect(t,e,5,25);case"9":return this.ctx.fillRect(t+25-5,e,5,25),this.ctx.fillRect(t,e+25-5,25,5),this.ctx.fillRect(t,e,25,5),this.ctx.fillRect(t,e+10,25,5),void this.ctx.fillRect(t,e,5,10);case"1":return void this.ctx.fillRect(t+25-5,e,5,25);case"d":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t,e+25-5,25,5),this.ctx.fillRect(t+25-5,e+25-5,5,-20),this.ctx.fillRect(t,e,25,5),this.ctx.fillStyle="black",this.ctx.fillRect(t+25-5,e,5,5),this.ctx.fillRect(t+25-5,e+25-5,5,5),void(this.ctx.fillStyle="white");case"t":return this.ctx.fillRect(t,e,25,5),void this.ctx.fillRect(t+10,e,5,25);case"q":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t,e+25-5,25,5),this.ctx.fillRect(t+25-5,e+25-5,5,-20),this.ctx.fillRect(t,e,25,5),void this.ctx.fillRect(t+10,e+25-5,5,-5);case"w":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t+25-5,e,5,25),this.ctx.fillRect(t+10,e,5,25),void this.ctx.fillRect(t,e+25-5,25,5);case"j":return this.ctx.fillRect(t+25-5,e,5,25),this.ctx.fillRect(t,e+25-5,25,5),void this.ctx.fillRect(t,e+25-5,5,-5);case"k":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t+25-5,e+25-5,5,5),this.ctx.fillRect(t+15,e+15,5,5),this.ctx.fillRect(t+10,e+10,5,5),this.ctx.fillRect(t+25-5,e,5,5),this.ctx.fillRect(t+15,e+5,5,5),void this.ctx.fillRect(t+5,e+10,5,5);case"z":return this.ctx.fillRect(t,e,25,5),this.ctx.fillRect(t,e+25-5,25,5),this.ctx.fillRect(t+10,e+10,5,5),this.ctx.fillRect(t+5,e+15,5,5),void this.ctx.fillRect(t+15,e+5,5,5);case"x":return this.ctx.fillRect(t+10,e+10,5,5),this.ctx.fillRect(t+5,e+15,5,5),this.ctx.fillRect(t+15,e+5,5,5),this.ctx.fillRect(t+25-5,e,5,5),this.ctx.fillRect(t,e+25-5,5,5),this.ctx.fillRect(t,e,5,5),this.ctx.fillRect(t+5,e+5,5,5),this.ctx.fillRect(t+25-5,e+25-5,5,5),void this.ctx.fillRect(t+15,e+15,5,5);case"n":return this.ctx.fillRect(t,e,5,25),this.ctx.fillRect(t+25-5,e,5,25),this.ctx.fillRect(t+5,e+5,5,5),this.ctx.fillRect(t+10,e+10,5,5),void this.ctx.fillRect(t+15,e+15,5,5);case" ":return}return this},t.prototype.print=function(t,e,i){for(var c=0,n=0,s=0,l=t;s<l.length;s++){for(var r=0,h=l[s];r<h.length;r++){var a=h[r];this.printChar(e+8*n*5,i+8*c*5,a),n++}c++,n=0}return this},t}(),h=function(){function t(t){var e=this;this.engine=t,document.addEventListener("keydown",(function(t){"GAME_INIT"===e.engine.gameStatus&&("qwertyuiopasdfghjklzxcvbnm".indexOf(t.key)>-1&&e.engine.name.length<=3&&(e.engine.name+=t.key,e.render()),"Backspace"===t.code&&(e.engine.name=e.engine.name.slice(0,-1),e.render()),"Enter"===t.code&&""!==e.engine.name&&e.engine.snakeScreen.startGame())}))}return t.prototype.render=function(){this.engine.gameStatus="GAME_INIT",this.engine.ctx.fillStyle="black",this.engine.ctx.fillRect(0,0,this.engine.canvas.width,this.engine.canvas.height),this.engine.ctx.fillStyle="white",this.engine.typography.print(["input"," name"],10,5),this.engine.typography.print([this.engine.name],10,125),this.engine.typography.print([" then","press","enter"],10,200)},t}(),a=function(t){this.name="",this.gameStatus="GAME_INIT",this.options=t,this.canvas=document.createElement("canvas"),this.canvas.width=600,this.canvas.height=400,t.container.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.typography=new r(this.ctx),this.welcomeScreen=new h(this),this.gameOverScreen=new l(this),this.snakeScreen=new s(this),this.welcomeScreen.render()};void 0!==typeof window&&(window.Snake=function(t){return new a(t)})}]);